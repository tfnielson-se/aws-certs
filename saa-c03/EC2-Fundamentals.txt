EC2 - Fundamentals
Elastic Compute Cloud

- [ ] EC2
	Renting Virtual Machines (EC2)
	Storing Data on VM (EC2)
	Distributing load across machines (ELB)
	Scaling the services using auto-scaling group (ASG)

- [ ] EC2 sizing & config
	Operating Sys
	How much compute power & cores (CPU)
	How much random-access memory (RAM)
	How much storage space:
		Network-attached (EBS & EFS)
		Hardware (EC2 Instance Store)
	Network card: speed of card, Public IP address
	Firewall rules: security	group
	Bootstrap script (config at first launch): EC2 user data

- [ ] EC2 User Data
	it is possible to bootstrap instances using EC2 User Data script
	EC2 user data is used to automate boot tasks such as:
		install updated
		install software
		download common files from the internet
		anything you can think of
	EC2 User Data Script runs with the root user

- [ ] EC2 Instance types
		i.e, m3.2xl
			m: instance class
			5: generation (AWS improves over time)
			2xlarge: size within instance class
	General purpose
		diverse in workloads such as web servers and code repos
	Compute Optimized
		compute intensive tasks that require high performance
	Memory Optimized
		large data sets in memory
	Accelerated Computing
	Storage Optimized
		storage-intensive tasks that require high, sequential read and write access to large data sets on local storage
	Instance Features
	Measuring Instance Performance

- [ ] EC2 Security Groups
	only contain ALLOW rules
	control how traffic is allowed in or out of our EC2 Instance
	can be referenced by IP or by security group
	act as firewall
	regulate:
		access to ports
		authorized IP ranges - IPv4 and IPv6
		control inbound and outbound traffic
	good to know:
		can be attached to multiple instances
		locked down to a region / VPC combination
		does live ‘outside’ EC2 - if traffic is blocked the EC2 instance won’t see it
		its good to maintain one separate security group for SSH access
		** if your app is not accessible (time out), then its a security group issue
		if your app gives ‘connection refused’ error, then its an app error or its not launched
		all inbound traffic is blocked by default
		all outbound traffic is endorsed by default

- [ ] Classic Ports to know
  22 = SSH (secure shell) - log into a linux instance
  21 = FTP (File Transfer Protocol) - upload files into a file share
  22 = SFTP (Secure File Transfer Protocol) - upload files using SSH
  80 = HTTP - access unsecured websites
  443 = HTTPS - access secured websites
  3389 = RDP (Remote Desktop Protocol) - Lon into a Windows instance

- [ ] SSH
	Allows you to control a remote machine, all using the command line
	To SSH into Instance: ssh -i <pem-file-name.pem> ec2-user@<ip-address>

- [ ] SSH Troubleshooting
	There's a connection timeout
		This is a security group issue. Any timeout (not just for SSH) is related to security groups or a firewall. Ensure your security group looks like this and correctly assigned to your EC2 instance.

	There's still a connection timeout issue
		If your security group is properly configured as above, and you still have connection timeout issues, then that means a corporate firewall or a personal firewall is blocking the connection. Please use EC2 Instance Connect as described in the next lecture.

	SSH does not work on Windows
		If it says: ssh command not found, that means you have to use Putty
		Follow again the video. If things don't work, please use EC2 Instance Connect as described in the next lecture

	There's a connection refused
		This means the instance is reachable, but no SSH utility is running on the instance
		Try to restart the instance
		If it doesn't work, terminate the instance and create a new one. 		Make sure you're using Amazon Linux 2

	Permission denied (publickey,gssapi-keyex,gssapi-with-mic)
		This means either two things:
		You are using the wrong security key or not using a security key. 		Please look at your EC2 instance configuration to make sure you have assigned the correct key to it.
		You are using the wrong user. Make sure you have started an Amazon Linux 2 EC2 instance, and make sure you're using the user ec2-user. This is something you specify when doing ec2-user@<public-ip> (ex: ec2-user@35.180.242.162) in your SSH command or your Putty configuration


	I was able to connect yesterday, but today I can't
		This is probably because you have stopped your EC2 instance and then started it again today. When you do so, the public IP of your EC2 instance will change. Therefore, in your command, or Putty configuration, please make sure to edit and save the new public IP.